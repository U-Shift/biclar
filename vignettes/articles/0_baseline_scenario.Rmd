---
title: "Baseline scenario"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


The OD datasets, before and after jittering, are shown below.

```{r message=FALSE, warning=FALSE, include=FALSE}
od_all = readRDS(url("https://github.com/U-Shift/biclar/releases/download/0.0.1/TRIPSmode_freguesias.Rds"))
zones = readRDS(url("https://github.com/U-Shift/biclar/releases/download/0.0.1/FREGUESIASgeo.Rds"))
od_all_jittered = readRDS(url("https://github.com/U-Shift/biclar/releases/download/0.0.1/od_all_jittered_50.Rds"))
```

```{r jitteredoverview, echo=FALSE}
plot(od_all$geometry, lwd = 0.2)
plot(od_all_jittered$geometry, lwd = 0.1)
```

### Desire lines with bike trips

Baseline (IMOB 2018)

```{r}
od_all_bikeonly = od_all %>% filter(Bike != 0) #only for visualization

tm_shape(od_all_bikeonly) +
    tm_lines(col = "Bike", palette = "viridis", lwd = "Bike", scale = 15)
```

> Notice the intra-zonal trips. Jittering necessary.
